import{u as b,r as t,a as m,d as i,j as s,e as r}from"./index-CNH5pjLZ.js";import{M as f,l as y}from"./index-DJ2pV3sM.js";import{B as c}from"./BuyerBottomNav-B6lU8ncy.js";import{T as C}from"./TopTabBar-BrX66--H.js";/* empty css                       */const L=()=>{const l=b(),[x,p]=t.useState(!0),[e,v]=t.useState(null),[d,j]=t.useState([]),[h,N]=t.useState(null);t.useEffect(()=>{g()},[]);const g=async()=>{try{const[o,a]=await Promise.all([m.get(i("api/color/video")),m.get(i("api/color/comparisons"))]);if(console.log("White vs Colors Video Response:",o.data),console.log("White vs Colors Comparison Response:",a.data),o.data&&o.data.length>0){const n=o.data[0];console.log("Video Data:",n),v(n)}j(a.data||[])}catch(o){console.error("Error fetching White vs Color Data:",o),N("Failed to load data. Please try again later.")}finally{p(!1)}},u=()=>{l("/buyer/notifications")},w=o=>{const a=d.find(n=>n.type===o);return a?s.jsxs("div",{className:"comparison-row-container",children:[s.jsx(r,{weight:"Inter",className:"comparison-category",children:o}),s.jsxs("div",{className:"comparison-row",children:[s.jsx("div",{className:"comparison-cell",children:s.jsx(r,{weight:"Inter",className:"comparison-text",children:a.white})}),s.jsx("div",{className:"comparison-cell",children:s.jsx(r,{weight:"Inter",className:"comparison-text",children:a.lam})})]})]},o):null};return x?s.jsxs("div",{className:"buyer-dashboard-container",children:[s.jsx("div",{className:"loading-container",children:s.jsx("div",{className:"spinner"})}),s.jsx(c,{})]}):h?s.jsxs("div",{className:"buyer-dashboard-container",children:[s.jsx("div",{className:"error-container",children:s.jsx(r,{className:"error-text",children:h})}),s.jsx(c,{})]}):s.jsxs("div",{className:"buyer-dashboard-container",children:[s.jsxs("div",{className:"buyer-dashboard-header",children:[s.jsx("div",{className:"header-spacer"}),s.jsx("img",{src:"/logo.png",alt:"Logo",className:"dashboard-logo"}),s.jsx("button",{className:"notification-button",onClick:u,"aria-label":"Notifications",children:s.jsx(f,{size:24,color:"#000"})})]}),s.jsx(C,{}),s.jsxs("div",{className:"buyer-dashboard-content white-vs-colors-content",children:[s.jsxs("div",{className:"white-vs-colors-header",children:[s.jsx("div",{className:"white-vs-colors-icon-wrapper",children:s.jsx(y,{className:"white-vs-colors-icon"})}),s.jsx(r,{weight:"Inter",className:"page-title",children:"WHITE vs COLORED WINDOWS"}),s.jsx("div",{className:"white-vs-colors-divider"}),s.jsx(r,{weight:"Inter",className:"page-subtitle",children:"Compare the differences between white and colored uPVC windows"})]}),e&&(e.videoUrl||e.src)&&s.jsx("div",{className:"white-vs-colors-video-container",children:s.jsx("video",{src:i(e.videoUrl||e.src),controls:!0,width:"100%",height:"100%",style:{maxHeight:"400px",objectFit:"contain"},onError:o=>{console.error("=== White vs Colors Video Error ==="),console.error("Video object:",e),console.error("Video URL field:",e.videoUrl),console.error("Video src field:",e.src),console.error("Resolved URL:",i(e.videoUrl||e.src)),console.error("Error:",o)},onLoadedData:()=>{console.log("âœ“ White vs Colors video ready:",i(e.videoUrl||e.src))},children:"Your browser does not support the video tag."})}),e&&e.sponsorLogo&&s.jsxs("div",{className:"white-vs-colors-sponsor",children:[s.jsx("div",{className:"sponsor-divider"}),s.jsxs("div",{className:"sponsor-content",children:[s.jsx("img",{src:i(e.sponsorLogo),alt:"Sponsor",className:"sponsor-logo",onError:o=>{console.error("Sponsor logo failed to load"),o.target.style.display="none"}}),e.sponsorText&&s.jsx(r,{weight:"Inter",className:"sponsor-text",children:e.sponsorText.toUpperCase()})]}),s.jsx("div",{className:"sponsor-divider"})]}),s.jsxs("div",{className:"comparisons-container",children:[s.jsxs("div",{className:"table-header",children:[s.jsx(r,{weight:"Inter",className:"table-header-text left",children:"WHITE"}),s.jsx(r,{weight:"Inter",className:"table-header-text right",children:"LAMINATED"})]}),d.map(o=>w(o.type))]}),s.jsx("div",{className:"white-vs-colors-buy-now",children:s.jsx("button",{className:"buy-now-button",onClick:()=>l("/buyer/buy-now"),children:s.jsx(r,{weight:"Inter",className:"buy-now-text",children:"BUY NOW"})})})]}),s.jsx(c,{})]})};export{L as default};
