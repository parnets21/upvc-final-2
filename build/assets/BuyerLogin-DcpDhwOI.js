import{u as g,r,j as e,a as d,A as b}from"./index-BfVn0bv8.js";const p=()=>{const o=g(),[s,i]=r.useState(""),[t,l]=r.useState(!1),c=async()=>{if(s.length!==10){alert("Please enter a valid 10-digit mobile number");return}l(!0);try{const a=await d.post(`${b}/api/auth/login`,{mobileNumber:s},{headers:{"Content-Type":"application/json"}});o("/buyer/otp-verification",{state:{mobileNumber:s,token:a.data.token,autootp:a.data.otp}})}catch(a){const n=a.response?.data?.message||a.message;alert(`Error: ${n}`)}finally{l(!1)}},u=()=>{o("/buyer/dashboard")};return e.jsx("div",{className:"buyer-login-container",children:e.jsxs("div",{className:"buyer-login-content",children:[e.jsx("div",{className:"buyer-login-title-container",children:e.jsx("img",{src:"/logo.png",alt:"UPVC Logo",className:"buyer-login-logo"})}),e.jsxs("div",{className:"buyer-login-form",children:[e.jsxs("div",{className:"buyer-login-input-group",children:[e.jsx("label",{className:"buyer-login-label",children:"Mobile Number"}),e.jsxs("div",{className:"buyer-login-phone-input",children:[e.jsx("span",{className:"buyer-login-country-code",children:"+91"}),e.jsx("input",{type:"tel",className:"buyer-login-input buyer-login-phone-number",placeholder:"Enter mobile number",value:s,onChange:a=>{const n=a.target.value.replace(/\D/g,"").slice(0,10);i(n)},maxLength:10})]})]}),s.length===10&&e.jsx("button",{className:"buyer-login-button",onClick:c,disabled:t,children:t?"Sending...":"Get OTP"}),e.jsx("button",{className:"buyer-login-skip-button",onClick:u,children:"Skip for now"})]})]})})};export{p as default};
